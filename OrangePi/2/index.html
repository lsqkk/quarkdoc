<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://lsqkk.github.io/quarkdoc/OrangePi/2/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>香橙派AI Pro综合开发笔记 - 2 - QuarkDoc</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="https://unpkg.com/katex@0/dist/katex.min.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u9999\u6a59\u6d3eAI Pro\u7efc\u5408\u5f00\u53d1\u7b14\u8bb0 - 2";
        var mkdocs_page_input_path = "OrangePi\\2.md";
        var mkdocs_page_url = "/quarkdoc/OrangePi/2/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../img/onlyq_white.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">QuarkDoc 文档中心</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../about/">关于本站</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">OrangePi</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">香橙派AI Pro 综合开发笔记：从零搭建个人AI服务器</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1/">香橙派AI Pro综合开发笔记 - 1</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">香橙派AI Pro综合开发笔记 - 2</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#4-docker">4. Docker容器化环境配置与管理</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#41-docker">4.1 Docker引擎安装与验证</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#42-docker">4.2 解决Docker权限与网络问题</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#43-docker">4.3 Docker容器与镜像管理</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#44">4.4 解决容器内服务访问异常</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#5-ssh">5. SSH远程访问深度配置</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#51-ssh">5.1 SSH服务安装与基础配置</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#52">5.2 连接失败问题诊断与解决</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#53">5.3 高级配置：密钥对认证与免密登录</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#6-nano">6. Nano文本编辑器使用详解</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#61">6.1 安装与基础编辑操作</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#62">6.2 高效编辑功能</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#63">6.3 配置文件与排错</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#7-deepseekai">7. 智能音箱项目：集成DeepSeek与百度AI</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#71">7.1 项目概述与架构</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#72">7.2 硬件准备与音频系统调试</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#73-api">7.3 云端API服务配置</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#74">7.4 软件环境部署与项目搭建</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#75">7.5 项目集成与典型错误调试</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#76">7.6 系统服务化与自启动</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3/">香橙派AI Pro综合开发笔记 - 3</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4/">香橙派AI Pro综合开发笔记 - 4</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">资料</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E8%B5%84%E6%96%99/XJTU%E8%87%AA%E5%8A%A8%E5%8C%9625%E7%BA%A7C%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/">XJTU自动化25级C程序设计期末考试</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E8%B5%84%E6%96%99/XJTU%E8%AE%A1%E7%AE%97%E6%9C%BA25%E7%BA%A7C%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/">XJTU计算机25级C程序设计期末考试</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">QuarkDoc</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">OrangePi</li>
      <li class="breadcrumb-item active">香橙派AI Pro综合开发笔记 - 2</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="ai-pro-2">香橙派AI Pro综合开发笔记 - 2</h1>
<h2 id="4-docker">4. Docker容器化环境配置与管理</h2>
<h3 id="41-docker">4.1 Docker引擎安装与验证</h3>
<ol>
<li><strong>安装Docker CE</strong>：通过官方仓库安装稳定版本。</li>
</ol>
<p><code>bash
   sudo apt update
   sudo apt install -y apt-transport-https ca-certificates curl software-properties-common
   curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
   sudo add-apt-repository "deb [arch=arm64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
   sudo apt update
   sudo apt install -y docker-ce</code>
2. <strong>验证安装</strong>：</p>
<p><code>bash
   sudo docker run hello-world</code></p>
<p>成功运行将看到“Hello from Docker!”的欢迎信息。</p>
<h3 id="42-docker">4.2 解决Docker权限与网络问题</h3>
<ul>
<li><strong>权限拒绝错误（Permission Denied）</strong>：默认情况下，需<code>sudo</code>执行Docker命令。</li>
<li>
<p><strong>解决方案</strong>：将当前用户加入<code>docker</code>组，使其无需<code>sudo</code>。</p>
<p><code>bash
sudo usermod -aG docker $USER</code></p>
<p><strong>关键步骤</strong>：执行此命令后，<strong>必须注销并重新登录</strong>或重启系统，组权限更改才会生效。之后可运行<code>docker run hello-world</code>验证。
* <strong>镜像拉取超时或失败</strong>：从Docker Hub拉取镜像速度慢。
  * <strong>解决方案</strong>：配置国内镜像加速器。创建或编辑<code>/etc/docker/daemon.json</code>文件：</p>
<p><code>json
{
  "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn",
    "https://hub-mirror.c.163.com"
  ]
}</code></p>
<p>保存后，重启Docker服务：</p>
<p><code>bash
sudo systemctl restart docker</code></p>
<p>可使用<code>docker info | grep Mirrors</code>验证配置是否生效。</p>
</li>
</ul>
<h3 id="43-docker">4.3 Docker容器与镜像管理</h3>
<ul>
<li><strong>常用命令一览</strong>：
  <code>bash
  docker ps           # 查看运行中的容器
  docker ps -a        # 查看所有容器
  docker images       # 查看本地镜像
  docker rm &lt;容器ID&gt;   # 删除容器
  docker rmi &lt;镜像ID&gt;  # 删除镜像
  docker logs &lt;容器ID&gt; # 查看容器日志（故障排查关键）</code></li>
<li><strong>设置容器自启动</strong>：对于Nextcloud等关键服务容器，应设置<code>--restart</code>策略，使其在Docker服务启动或容器意外退出时自动重启。
  <code>bash
  docker update --restart=unless-stopped &lt;容器名或ID&gt;</code></li>
</ul>
<h3 id="44">4.4 解决容器内服务访问异常</h3>
<ul>
<li><strong>现象</strong>：通过CasaOS安装的应用（如Nextcloud）无法通过浏览器访问。</li>
<li><strong>诊断路径</strong>：</li>
<li><strong>检查容器状态</strong>：<code>docker ps</code> 确认容器状态为 <code>Up</code>。</li>
<li><strong>检查容器端口映射</strong>：<code>docker port &lt;容器名&gt;</code> 确认宿主机端口是否正确映射到容器内部端口（如 <code>8088-&gt;80</code>）。</li>
<li><strong>检查容器内服务日志</strong>：<code>docker logs --tail 50 &lt;容器名&gt;</code> 查找应用启动过程中的错误信息。</li>
<li><strong>进入容器诊断</strong>：<code>docker exec -it &lt;容器名&gt; /bin/bash</code>，在容器内部检查配置文件、网络连通性。</li>
</ul>
<h2 id="5-ssh">5. SSH远程访问深度配置</h2>
<h3 id="51-ssh">5.1 SSH服务安装与基础配置</h3>
<ol>
<li><strong>安装OpenSSH服务器</strong>：
   <code>bash
   sudo apt install -y openssh-server</code></li>
<li><strong>启动并启用开机自启</strong>：
   <code>bash
   sudo systemctl enable --now ssh</code></li>
<li><strong>检查服务状态与监听端口</strong>：
   <code>bash
   sudo systemctl status ssh
   sudo ss -tlnp | grep :22</code></li>
</ol>
<h3 id="52">5.2 连接失败问题诊断与解决</h3>
<ul>
<li><strong>现象</strong>：无法通过SSH客户端（如PuTTY）连接。</li>
<li><strong>系统化排查流程</strong>：</li>
<li><strong>确认IP地址</strong>：在香橙派上执行 <code>hostname -I</code>，确保客户端使用正确的IP。</li>
<li><strong>确认服务状态</strong>：<code>sudo systemctl status ssh</code>，状态应为 <code>active (running)</code>。若非，则使用 <code>sudo systemctl restart ssh</code> 重启。</li>
<li><strong>检查端口监听</strong>：<code>sudo ss -tlnp | grep :22</code>。若无输出，可能SSH未启动或防火墙拦截。若监听地址为 <code>127.0.0.1:22</code>，则表示SSH仅绑定到本地环回地址，需修改配置文件 <code>/etc/ssh/sshd_config</code>，将 <code>ListenAddress</code> 行注释掉或改为 <code>0.0.0.0</code>，然后重启服务。</li>
<li>
<p><strong>检查防火墙规则</strong>：</p>
<p><code>bash
 sudo ufw status</code></p>
<p>若防火墙为 <code>active</code> 状态且未放行22端口，则需添加规则：</p>
<p><code>bash
 sudo ufw allow ssh  # 或 sudo ufw allow 22/tcp
 sudo ufw reload</code>
  5. <strong>检查客户端连接命令或设置</strong>：确保命令格式正确 <code>ssh username@ip_address</code>。</p>
</li>
</ul>
<h3 id="53">5.3 高级配置：密钥对认证与免密登录</h3>
<p>为提升安全性和便利性，建议使用密钥对替代密码登录。</p>
<ol>
<li><strong>在客户端生成密钥对</strong>（在Windows上可使用Git Bash或WSL）：</li>
</ol>
<p><code>bash
   ssh-keygen -t ed25519 -C "your_email@example.com"</code></p>
<p>默认将私钥保存在 <code>~/.ssh/id_ed25519</code>，公钥为 <code>id_ed25519.pub</code>。
2. <strong>将公钥上传至香橙派</strong>：</p>
<p><code>bash
   ssh-copy-id username@your_orange_pi_ip</code></p>
<p>或手动将公钥内容复制到香橙派的 <code>~/.ssh/authorized_keys</code> 文件中。
3. <strong>（可选）禁用密码登录</strong>：在 <code>/etc/ssh/sshd_config</code> 中设置 <code>PasswordAuthentication no</code>，然后重启SSH服务。<strong>务必在确认密钥登录成功后操作</strong>。</p>
<h2 id="6-nano">6. Nano文本编辑器使用详解</h2>
<h3 id="61">6.1 安装与基础编辑操作</h3>
<ol>
<li><strong>安装Nano</strong>：
   <code>bash
   sudo apt update &amp;&amp; sudo apt install -y nano</code></li>
<li><strong>打开/创建文件</strong>：
   <code>bash
   nano 文件名</code></li>
<li><strong>基础编辑</strong>：在界面中直接键入文本进行编辑。</li>
<li><strong>保存与退出</strong>：</li>
<li><code>Ctrl + O</code>：写入（保存）文件，按Enter确认文件名。</li>
<li><code>Ctrl + X</code>：退出Nano。如果文件有未保存的更改，会提示是否保存。</li>
<li><strong>核心快捷键提示</strong>：始终显示在编辑器底部两行。</li>
</ol>
<h3 id="62">6.2 高效编辑功能</h3>
<ul>
<li><strong>光标移动</strong>：</li>
<li><code>Ctrl + F</code>：前进一个字符。</li>
<li><code>Ctrl + B</code>：后退一个字符。</li>
<li><code>Ctrl + A</code>：行首。</li>
<li><code>Ctrl + E</code>：行尾。</li>
<li><strong>文本操作</strong>：</li>
<li><code>Ctrl + K</code>：剪切当前行。</li>
<li><code>Ctrl + U</code>：粘贴剪切的文本。</li>
<li><code>Alt + U</code>：撤销。</li>
<li><code>Alt + E</code>：重做。</li>
<li><strong>搜索与替换</strong>：</li>
<li><code>Ctrl + W</code>：搜索文本，按Enter定位。</li>
<li><code>Alt + W</code>：查找下一个。</li>
<li><code>Ctrl + \</code>：搜索并替换。</li>
<li><strong>复制与标记</strong>：</li>
<li><code>Alt + A</code>：开始标记文本（用于复制/剪切）。</li>
<li>移动光标选择区域后，使用 <code>Alt + 6</code> 复制标记文本，或 <code>Ctrl + K</code> 剪切。</li>
</ul>
<h3 id="63">6.3 配置文件与排错</h3>
<ul>
<li><strong>启用语法高亮</strong>：Nano支持多种语言的语法高亮。通常高亮规则文件位于 <code>/usr/share/nano/</code>。可以在 <code>~/.nanorc</code> 或个人配置中引用：
  <code>bash
  include "/usr/share/nano/c.nanorc"   # C语言高亮
  include "/usr/share/nano/python.nanorc" # Python高亮</code></li>
<li><strong>常见问题</strong>：</li>
<li>编辑系统文件时权限不足：使用 <code>sudo nano 文件名</code>。</li>
<li>编辑时出现乱码：确保文件编码正确（如UTF-8）。保存时可使用 <code>Ctrl + T</code> 选择编码。</li>
</ul>
<h2 id="7-deepseekai">7. 智能音箱项目：集成DeepSeek与百度AI</h2>
<h3 id="71">7.1 项目概述与架构</h3>
<p>本项目在香橙派上构建一个具备语音交互能力的智能助手。技术栈整合如下：</p>
<ul>
<li><strong>语音输入</strong>：USB麦克风（或板载音频输入）。</li>
<li><strong>语音识别（ASR）</strong>：百度AI开放平台。</li>
<li><strong>自然语言处理（NLP）</strong>：DeepSeek API（兼容OpenAI格式）。</li>
<li><strong>语音合成（TTS）</strong>：百度AI开放平台。</li>
<li><strong>语音输出</strong>：3.5mm音频接口或USB音响。</li>
<li><strong>控制核心</strong>：Python脚本。</li>
</ul>
<h3 id="72">7.2 硬件准备与音频系统调试</h3>
<p>此为项目最易出错的环节。</p>
<ol>
<li><strong>硬件连接</strong>：</li>
<li><strong>方案A（推荐）</strong>：使用USB麦克风音响一体设备，连接至USB端口。</li>
<li><strong>方案B（分体）</strong>：3.5mm麦克风接入麦克风接口，音箱接入音频输出接口。</li>
<li><strong>音频设备检测与驱动故障排查</strong>：</li>
<li><strong>核心诊断命令</strong>：
     <code>bash
     aplay -l   # 列出所有播放设备
     arecord -l # 列出所有录音设备</code></li>
<li><strong>问题：<code>aplay -l</code> 无输出（no soundcards found）</strong>。<ul>
<li><strong>诊断</strong>：系统未加载音频驱动或内核不支持。</li>
<li><strong>解决路径</strong>：</li>
<li>更新并安装ALSA驱动包：<code>sudo apt install -y alsa-base alsa-utils pulseaudio</code>，然后<strong>重启</strong>。</li>
<li>检查内核模块：<code>lsmod | grep snd</code>，查看是否有 <code>snd_soc_</code> 相关模块。</li>
<li><strong>最终手段</strong>：若驱动无效，更换为<strong>香橙派官方提供</strong>或明确支持音频的社区镜像。这是解决硬件识别问题的根本方法。</li>
</ul>
</li>
<li><strong>问题：设备列表中有卡，但播放/录音无声</strong>。<ul>
<li>检查音量设置：执行 <code>alsamixer</code>，使用方向键调整主音量（Master, PCM）并取消静音（按 <code>M</code> 键）。</li>
<li>测试播放：<code>aplay -D plughw:0,0 /usr/share/sounds/alsa/Front_Center.wav</code>（请根据 <code>aplay -l</code> 输出调整 <code>hw:</code> 后的卡号与设备号）。</li>
<li>测试录音：<code>arecord -D plughw:1,0 -f cd -d 5 test.wav</code>（请根据 <code>arecord -l</code> 输出调整设备号），然后播放此 <code>test.wav</code> 听效果。</li>
</ul>
</li>
</ol>
<h3 id="73-api">7.3 云端API服务配置</h3>
<ol>
<li><strong>百度AI开放平台</strong>：</li>
<li>注册并登录，在控制台创建应用，获得 <code>APP_ID</code>、<code>API_KEY</code>、<code>SECRET_KEY</code>。</li>
<li>启用“语音技术”相关服务。</li>
<li><strong>DeepSeek平台</strong>：</li>
<li>注册并登录DeepSeek，在API管理页面创建新的API密钥 (<code>sk-</code>开头)。</li>
<li>记录API基础地址，例如 <code>https://api.deepseek.com</code>。</li>
</ol>
<h3 id="74">7.4 软件环境部署与项目搭建</h3>
<ol>
<li><strong>创建项目目录与虚拟环境</strong>：</li>
</ol>
<p><code>bash
   mkdir -p ~/voice_assistant/config
   cd ~/voice_assistant
   python3 -m venv venv
   source venv/bin/activate</code>
2. <strong>安装Python依赖</strong>：</p>
<p><code>bash
   pip install pyaudio baidu-aip openai chardet requests</code></p>
<ul>
<li><strong>注意</strong>：<code>pyaudio</code> 安装可能失败，需先安装系统库：<code>sudo apt install -y portaudio19-dev python3-dev</code>。</li>
<li><strong>创建配置文件</strong> (<code>config/api_keys.json</code>)：</li>
</ul>
<p><code>json
   {
     "baidu": {
       "app_id": "你的百度APP_ID",
       "api_key": "你的百度API_KEY",
       "secret_key": "你的百度SECRET_KEY"
     },
     "llm": {
       "api_key": "你的DeepSeek_API_KEY",
       "api_base": "https://api.deepseek.com",
       "model": "deepseek-chat"
     }
   }</code>
4. <strong>编写核心Python脚本</strong> (<code>assistant_core.py</code>)：</p>
<ul>
<li><strong>流程</strong>：录音 -&gt; 百度ASR识别为文本 -&gt; DeepSeek处理文本生成回复 -&gt; 百度TTS合成语音 -&gt; 播放。</li>
<li><strong>关键函数</strong>：需实现 <code>record_audio()</code>, <code>baidu_asr()</code>, <code>get_llm_response()</code>, <code>baidu_tts()</code>, <code>play_audio()</code>。</li>
<li><strong>播放函数示例</strong>（集成硬件测试成功的命令）：
     <code>python
     import subprocess
     def play_audio(file_path):
         subprocess.run(['aplay', '-D', 'plughw:0,0', file_path], check=True)</code></li>
</ul>
<h3 id="75">7.5 项目集成与典型错误调试</h3>
<ul>
<li><strong>错误：百度API调用失败</strong>。</li>
<li>检查 <code>api_keys.json</code> 中的密钥是否正确且未过期。</li>
<li>检查网络连接：<code>ping ai.baidu.com</code>。</li>
<li><strong>错误：DeepSeek API返回404或401</strong>。</li>
<li><strong>404</strong>：通常为 <code>api_base</code> 填写错误。确保为 <code>https://api.deepseek.com</code>（无末尾斜杠或错误路径）。</li>
<li><strong>401</strong>：API密钥无效或未传递。检查密钥字符串是否正确，并确保代码中正确读取。</li>
<li>使用 <code>curl</code> 命令测试API连通性：
    <code>bash
    curl https://api.deepseek.com/v1/models -H "Authorization: Bearer YOUR_API_KEY"</code></li>
<li><strong>错误：Python模块缺失（如<code>No module named 'chardet'</code>）</strong>。</li>
<li>在虚拟环境中使用 <code>pip install</code> 安装缺失模块。</li>
<li><strong>错误：录音或播放时抛出<code>ALSA</code>相关异常</strong>。</li>
<li>硬件驱动问题。返回 <strong>7.2节</strong> 重新进行音频系统调试。</li>
<li>在代码中尝试使用不同的PyAudio参数或设备索引。</li>
</ul>
<h3 id="76">7.6 系统服务化与自启动</h3>
<p>为使项目开机运行，可创建Systemd服务。</p>
<ol>
<li><strong>创建服务文件</strong> (<code>/etc/systemd/system/voice-assistant.service</code>)：</li>
</ol>
<p>```ini
   [Unit]
   Description=Voice Assistant Service
   After=network.target sound.target</p>
<p>[Service]
   Type=simple
   User=orangepi
   WorkingDirectory=/home/orangepi/voice_assistant
   Environment="PATH=/home/orangepi/voice_assistant/venv/bin"
   ExecStart=/home/orangepi/voice_assistant/venv/bin/python assistant_core.py
   Restart=on-failure</p>
<p>[Install]
   WantedBy=multi-user.target
   ```
2. <strong>启用并启动服务</strong>：</p>
<p><code>bash
   sudo systemctl daemon-reload
   sudo systemctl enable --now voice-assistant.service
   sudo systemctl status voice-assistant.service # 检查状态</code>
<a href="../1/">上一篇</a>
<a href="../3/">下一篇</a></p>
              
            </div>
          </div><footer>
  <div class="rst-footer-buttons" role="navigation" aria-label="页脚导航">
    <a href="../1/" class="btn btn-neutral float-left"
      title="香橙派AI Pro综合开发笔记 - 1"><span class="icon icon-circle-arrow-left"></span> 上一篇</a>
    <a href="../3/" class="btn btn-neutral float-right" title="香橙派AI Pro综合开发笔记 - 3">下一篇 <span class="icon icon-circle-arrow-right"></span></a>
  </div>

  <hr />

  <div role="contentinfo">
    <!-- 自定义版权与协议信息 -->
    <p>2025 © QuarkDoc. All rights reserved.
      <br>
      如无特殊说明，本站所有文档遵循 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" target="_blank">CC BY-NC-ND
        4.0</a> 协议。
      <br>
      详情见<a href="../../about/">夸克文档说明</a>。
    </p>
  </div>
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../1/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../3/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../javascripts/katex.js"></script>
      <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
